{"EpubVersion":2,"filepath":"","floatingtheme":[],"folded":false,"markups":[{"date":"2023-04-15 14:29:24","docid":0,"fillcolor":"fffeeb73","id":1,"originaltext":"性能分析工具gprof介绍","page":0,"textblocks":[{"first":[164.85279846191406,104.38235473632812,12.011154174804688,16.5],"last":[282.5037536621094,104.38235473632812,12.01116943359375,16.5],"length":13,"rects":[[164.85279846191406,104.38235473632812,129.66212463378906,16.5]],"start":25,"text":"性能分析工具gprof介绍"}],"type":5,"uuid":"1edbb357922339399d66c46793d9f709"},{"date":"2023-04-15 14:29:41","docid":0,"fillcolor":"fffeeb73","id":2,"originaltext":"gprof是GNU profile工具","page":0,"textblocks":[{"first":[39.009300231933594,522.2161865234375,4.452136993408203,8.94580078125],"last":[115.10344696044922,522.2161865234375,8.007438659667969,8.94580078125],"length":19,"rects":[[39.009300231933594,522.2161865234375,84.1015853881836,8.94580078125]],"start":522,"text":"gprof是GNU profile工具"}],"type":5,"uuid":"b2f7f3dd2c956bdc1e2ce32d560788c4"},{"date":"2023-04-15 14:29:52","docid":0,"fillcolor":"fffeeb73","id":4,"originaltext":"2. 使用步骤","page":0,"textblocks":[{"first":[39.009300231933594,637.3739013671875,4.452136993408203,11.5],"last":[71.9344253540039,637.3739013671875,8.007438659667969,11.5],"length":7,"rects":[[39.009300231933594,637.3739013671875,40.93256378173828,11.5]],"start":763,"text":"2. 使用步骤"}],"type":5,"uuid":"282b395647cc2d95860b8f3ff75f0bc2"},{"date":"2023-04-15 14:29:56","docid":0,"fillcolor":"fffeeb73","id":5,"originaltext":"1) 用gcc、g++、xlC编译程序时，使用-pg参数","page":0,"textblocks":[{"first":[39.009300231933594,652.3370971679688,4.452136993408203,8.94580078125],"last":[193.84849548339844,652.3370971679688,8.0074462890625,8.94580078125],"length":28,"rects":[[39.009300231933594,652.3370971679688,162.84664154052734,8.94580078125]],"start":771,"text":"1) 用gcc、g++、xlC编译程序时，使用-pg参数"}],"type":5,"uuid":"520d45cd062bfdb5ebfa9b811b80fb2d"},{"date":"2023-04-15 14:30:03","docid":0,"fillcolor":"fffeeb73","id":6,"originaltext":"2) 执行编译后的可执行程序，如：./test.exe","page":0,"textblocks":[{"first":[39.009300231933594,689.1222534179688,4.452136993408203,11.5],"last":[188.50013732910156,689.1222534179688,4.4521331787109375,11.5],"length":27,"rects":[[39.009300231933594,689.1222534179688,153.9429702758789,11.5]],"start":910,"text":"2) 执行编译后的可执行程序，如：./test.exe"}],"type":5,"uuid":"523dd0d63247b2a981a606fcd0d5517b"},{"date":"2023-04-15 14:30:11","docid":0,"fillcolor":"fffeeb73","id":7,"originaltext":"会在程序所在路径下生成一个缺省文件名为gmon.out的文件，这个文件就是记录程序运行的性能、调用关系、调用次数等信息的数据文件。","page":0,"textblocks":[{"first":[127.09114837646484,703.1343994140625,8.007438659667969,10.5],"last":[392.69342041015625,729.1585693359375,8.0074462890625,10.5],"length":66,"rects":[[127.09114837646484,703.1343994140625,128.11905670166016,10.5],[39.009300231933594,729.1585693359375,361.69156646728516,10.5]],"start":977,"text":"会在程序所在路径下生成一个缺省文\n件名为gmon.out的文件，这个文件就是记录程序运行的性能、调用关系、调用次数等信息的数据文件。"}],"type":5,"uuid":"a7a26b01771205ef2f9e02a60f71b244"},{"date":"2023-04-15 14:30:20","docid":0,"fillcolor":"fffeeb73","id":8,"originaltext":"3) 使用gprof命令来分析记录程序运行信息的gmon.out文件，如：gprof test.exe gmon.out则可以在显示器上看到函数调用相关的统计、分析信息。上述信息也可以采用gprof test.exe gmon.out> gprofresult.txt重定向到文本文件以便于后续分析","page":0,"textblocks":[{"first":[39.009300231933594,743.4217529296875,4.452136993408203,8.94580078125],"last":[290.6532897949219,782.4580078125,8.0074462890625,8.94580078125],"length":151,"rects":[[39.009300231933594,743.4217529296875,377.32718658447266,8.94580078125],[39.009300231933594,755.1827392578125,208.1934585571289,10.5],[39.009300231933594,782.4580078125,259.6514358520508,8.94580078125]],"start":1044,"text":"3) 使用gprof命令来分析记录程序运行信息的gmon.out文件，如：gprof test.exe gmon.out则可以在显示器上\n看到函数调用相关的统计、分析信息。上述信息也可以采用\ngprof test.exe gmon.out> gprofresult.txt重定向到文本文件以便于后续分析"}],"type":5,"uuid":"7aa10d1cfd20ea0762681a04b1a42966"},{"date":"2023-04-15 14:30:40","docid":0,"fillcolor":"fffeeb73","id":9,"originaltext":"3. 使用举例","page":1,"textblocks":[{"first":[39.009300231933594,41.5203857421875,4.452136993408203,11.5],"last":[71.9344253540039,41.5203857421875,8.007438659667969,11.5],"length":7,"rects":[[39.009300231933594,41.5203857421875,40.93256378173828,11.5]],"start":41,"text":"3. 使用举例"}],"type":5,"uuid":"88e87170b55263b811f6b6654b39617b"},{"date":"2023-04-15 14:31:14","docid":0,"fillcolor":"fffeeb73","id":10,"originaltext":"这个应用程序包括两个函数：a 和 b，它们通过运行不同次数的循环来消耗不同的CPU时间。main 函数中采用了一个循环来反复调用这两个函数。函数b中循环的次数是 a 函数的4 倍，因此我们期望通过gprof的分析结果可以观察到大概有 20% 的时间花在了 a 函数中，而 80% 的时间花在了 b 函数中","page":1,"textblocks":[{"first":[39.009300231933594,653.3886108398438,8.007438659667969,11.5],"last":[79.94186401367188,706.1370849609375,8.007438659667969,10.5],"length":155,"rects":[[39.009300231933594,653.3886108398438,378.1482620239258,11.5],[39.009300231933594,666.4006958007812,245.57193756103516,11.5],[39.009300231933594,692.1248779296875,379.0670852661133,11.5],[39.009300231933594,706.1370849609375,48.94000244140625,10.5]],"start":683,"text":"这个应用程序包括两个函数：a 和 b，它们通过运行不同次数的循环来消耗不同的CPU时间。main 函数中采\n用了一个循环来反复调用这两个函数。函数b中循环的次数是 a 函数的\n4 倍，因此我们期望通过gprof的分析结果可以观察到大概有 20% 的时间花在了 a 函数中，而 80% 的时间花\n在了 b 函数中"}],"type":5,"uuid":"7bda46ece9587a397634d8ae5e98e5da"},{"date":"2023-04-15 14:36:50","docid":0,"fillcolor":"fffeeb73","id":12,"originaltext":"3.3.1 flat profile模式","page":2,"textblocks":[{"first":[39.009300231933594,30.759376525878906,4.452136993408203,8.945812225341797],"last":[101.76683044433594,30.759376525878906,8.007438659667969,8.945812225341797],"length":20,"rects":[[39.009300231933594,30.759376525878906,70.76496887207031,8.945812225341797]],"start":0,"text":"3.3.1 flat profile模式"}],"type":5,"uuid":"bdcc44acf231174719cd004724c2a629"},{"date":"2023-04-15 14:37:03","docid":0,"fillcolor":"fffeeb73","id":13,"originaltext":"在分析结果中不显示函数的调用关系","page":2,"textblocks":[{"first":[142.23020935058594,93.86885070800781,8.0074462890625,11.5],"last":[262.3418273925781,93.86885070800781,8.0074462890625,11.5],"length":16,"rects":[[142.23020935058594,93.86885070800781,128.1190643310547,11.5]],"start":102,"text":"在分析结果中不显示函数的调用关系"}],"type":5,"uuid":"7dfa4e51660c596cb749aee0a3dd03fc"},{"date":"2023-04-15 14:37:15","docid":0,"fillcolor":"fffeeb73","id":14,"originaltext":"%time 函数以及衍生函数（函数内部再次调用的子函数）所占的总运行时间的百分比","page":2,"textblocks":[{"first":[39.009300231933594,249.7138671875,7.118614196777344,11.5],"last":[327.726806640625,249.7138671875,8.0074462890625,11.5],"length":40,"rects":[[39.009300231933594,249.7138671875,296.7249526977539,11.5]],"start":403,"text":"%time 函数以及衍生函数（函数内部再次调用的子函数）所占的总运行时间的百分比"}],"type":5,"uuid":"f8aa03e30bb18b678ed1c4bdddd47fd5"},{"date":"2023-04-15 14:37:17","docid":0,"fillcolor":"fffeeb73","id":15,"originaltext":"cumulative seconds 函数累计执行的时间","page":2,"textblocks":[{"first":[39.009300231933594,264.9770202636719,4.003719329833984,8.945831298828125],"last":[175.61669921875,264.9770202636719,8.0074462890625,8.945831298828125],"length":28,"rects":[[39.009300231933594,264.9770202636719,144.6148452758789,8.945831298828125]],"start":444,"text":"cumulative seconds 函数累计执行的时间"}],"type":5,"uuid":"053b7485944036835c3c01c747410db8"},{"date":"2023-04-15 14:37:24","docid":0,"fillcolor":"fffeeb73","id":16,"originaltext":"self seconds 函数执行占用的时间","page":2,"textblocks":[{"first":[39.009300231933594,277.9891052246094,4.003719329833984,8.945831298828125],"last":[149.80364990234375,277.9891052246094,8.0074462890625,8.945831298828125],"length":22,"rects":[[39.009300231933594,277.9891052246094,118.80179595947266,8.945831298828125]],"start":473,"text":"self seconds 函数执行占用的时间"}],"type":5,"uuid":"14fa3e1e87d343b5fa96e135fe0c994d"},{"date":"2023-04-15 14:37:29","docid":0,"fillcolor":"fffeeb73","id":17,"originaltext":"calls 函数的调用次数","page":2,"textblocks":[{"first":[39.009300231933594,289.05010986328125,4.003719329833984,11.5],"last":[105.29745483398438,289.05010986328125,8.007438659667969,11.5],"length":13,"rects":[[39.009300231933594,289.05010986328125,74.29559326171875,11.5]],"start":496,"text":"calls 函数的调用次数"}],"type":5,"uuid":"2c19a6d60822b81d164652ee7092973b"},{"date":"2023-04-15 14:37:39","docid":0,"fillcolor":"fffeeb73","id":18,"originaltext":"self ms/call 每一次调用函数花费的时间microseconds，不包括衍生函数的运行时间","page":2,"textblocks":[{"first":[39.009300231933594,302.06219482421875,4.003719329833984,11.5],"last":[322.40936279296875,302.06219482421875,8.0074462890625,11.5],"length":50,"rects":[[39.009300231933594,302.06219482421875,291.40750885009766,11.5]],"start":510,"text":"self ms/call 每一次调用函数花费的时间microseconds，不包括衍生函数的运行时间"}],"type":5,"uuid":"5210adb7d9107fcc2dd18c3353b1782f"},{"date":"2023-04-15 14:37:42","docid":0,"fillcolor":"fffeeb73","id":19,"originaltext":"total ms/call 每一次调用函数花费的时间microseconds，包括衍生函数的运行时间","page":2,"textblocks":[{"first":[39.009300231933594,317.0253601074219,2.2260665893554688,8.945831298828125],"last":[317.0762634277344,317.0253601074219,8.0074462890625,8.945831298828125],"length":50,"rects":[[39.009300231933594,317.0253601074219,286.0744094848633,8.945831298828125]],"start":561,"text":"total ms/call 每一次调用函数花费的时间microseconds，包括衍生函数的运行时间"}],"type":5,"uuid":"20db6a77b2c5377749f00a5308c0436c"},{"date":"2023-04-15 14:39:22","docid":0,"fillcolor":"fffeeb73","id":21,"originaltext":"name 函数名称","page":2,"textblocks":[{"first":[39.009300231933594,330.0375671386719,4.452136993408203,8.945831298828125],"last":[85.28667449951172,330.0375671386719,8.007438659667969,8.945831298828125],"length":9,"rects":[[39.009300231933594,330.0375671386719,54.284812927246094,8.945831298828125]],"start":612,"text":"name 函数名称"}],"type":5,"uuid":"124462a2004fd39b9e08e48b8d0cf285"},{"date":"2023-04-15 14:59:11","docid":0,"fillcolor":"fffeeb73","id":22,"originaltext":"3.3.2 call graph模式","page":2,"textblocks":[{"first":[39.009300231933594,434.1342468261719,4.452136993408203,8.945831298828125],"last":[101.77074432373047,434.1342468261719,8.007438659667969,8.945831298828125],"length":18,"rects":[[39.009300231933594,434.1342468261719,70.76888275146484,8.945831298828125]],"start":800,"text":"3.3.2 call graph模式"}],"type":5,"uuid":"afbd867da303a6ede000c5fb4a75e498"},{"date":"2023-04-15 14:59:45","docid":0,"fillcolor":"fffeeb73","id":23,"originaltext":"index 每个函数第一次出现时都分配了一个编号，根据编号可以方便的查找函数的具体分析数据","page":2,"textblocks":[{"first":[39.009300231933594,732.1612548828125,1.7776527404785156,10.5],"last":[364.6595458984375,732.1612548828125,8.0074462890625,10.5],"length":45,"rects":[[39.009300231933594,732.1612548828125,333.6576919555664,10.5]],"start":1441,"text":"index 每个函数第一次出现时都分配了一个编号，根据编号可以方便的查找函数的具体分析数据"}],"type":5,"uuid":"1202c596dcefdcb7ae5c5a51066491fa"},{"date":"2023-04-15 14:59:53","docid":0,"fillcolor":"fffeeb73","id":24,"originaltext":"%time 函数以及衍生函数（函数内部再次调用的子函数）所占的总运行时间的百分比","page":2,"textblocks":[{"first":[39.009300231933594,745.1734619140625,7.118614196777344,10.5],"last":[327.726806640625,745.1734619140625,8.0074462890625,10.5],"length":40,"rects":[[39.009300231933594,745.1734619140625,296.7249526977539,10.5]],"start":1487,"text":"%time 函数以及衍生函数（函数内部再次调用的子函数）所占的总运行时间的百分比"}],"type":5,"uuid":"cb4716974d868dc71a9c94f0b6021ba1"},{"date":"2023-04-15 15:00:00","docid":0,"fillcolor":"fffeeb73","id":25,"originaltext":"self 函数的总运行时间","page":2,"textblocks":[{"first":[39.009300231933594,758.1854248046875,4.003719329833984,10.5],"last":[109.74690246582031,758.1854248046875,8.007438659667969,10.5],"length":13,"rects":[[39.009300231933594,758.1854248046875,78.74504089355469,10.5]],"start":1528,"text":"self 函数的总运行时间"}],"type":5,"uuid":"332c01bbe77815cbf01a075ff18f0cde"},{"date":"2023-04-15 15:00:06","docid":0,"fillcolor":"fffeeb73","id":27,"originaltext":"children 衍生函数执行的总时间","page":2,"textblocks":[{"first":[39.009300231933594,771.1976318359375,4.003719329833984,10.5],"last":[141.34266662597656,771.1976318359375,8.0074462890625,10.5],"length":19,"rects":[[39.009300231933594,771.1976318359375,110.34081268310547,10.5]],"start":1542,"text":"children 衍生函数执行的总时间"}],"type":5,"uuid":"5e96b9ca9ce4b54232df27a0068d7341"},{"date":"2023-04-15 15:00:21","docid":0,"fillcolor":"fffeeb73","id":28,"originaltext":"called 函数被调用的次数，不包括递归调用","page":2,"textblocks":[{"first":[39.009300231933594,784.2095947265625,4.003719329833984,10.5],"last":[182.2674102783203,784.2095947265625,8.0074462890625,10.5],"length":23,"rects":[[39.009300231933594,784.2095947265625,151.26555633544922,10.5]],"start":1562,"text":"called 函数被调用的次数，不包括递归调用"}],"type":5,"uuid":"2f5b3dc67944674b2e3cba63824276ae"},{"date":"2023-04-15 15:00:24","docid":0,"fillcolor":"fffeeb73","id":29,"originaltext":"name 函数名称","page":2,"textblocks":[{"first":[39.009300231933594,798.472900390625,4.452136993408203,8.94580078125],"last":[85.28667449951172,798.472900390625,8.007438659667969,8.94580078125],"length":9,"rects":[[39.009300231933594,798.472900390625,54.284812927246094,8.94580078125]],"start":1586,"text":"name 函数名称"}],"type":5,"uuid":"efefe25532a76acd231bfc1248c842ac"},{"date":"2023-04-15 15:16:43","docid":0,"fillcolor":"fffeeb73","id":30,"originaltext":"上例的libc_p.a是静态链接库。gprof目前还不支持对动态链接库中的函数进行性能分析","page":3,"textblocks":[{"first":[63.03162384033203,301.761962890625,8.007438659667969,11.5],"last":[357.11346435546875,301.761962890625,8.0074462890625,11.5],"length":45,"rects":[[63.03162384033203,301.761962890625,302.0892868041992,11.5]],"start":602,"text":"上例的libc_p.a是静态链接库。gprof目前还不支持对动态链接库中的函数进行性能分析"}],"type":5,"uuid":"acde76fbb1c1a665bbcf5396982553f1"},{"date":"2023-04-15 15:18:20","docid":0,"fillcolor":"fffeeb73","id":31,"originaltext":"5. 使用局限","page":3,"textblocks":[{"first":[39.009300231933594,341.09832763671875,4.452136993408203,11.5],"last":[71.9344253540039,341.09832763671875,8.007438659667969,11.5],"length":7,"rects":[[39.009300231933594,341.09832763671875,40.93256378173828,11.5]],"start":690,"text":"5. 使用局限"}],"type":5,"uuid":"3633837264ccaa44d8b3797e93076f84"},{"date":"2023-04-15 15:18:28","docid":0,"fillcolor":"fffeeb73","id":32,"originaltext":"gprof的特点是它只能分析应用程序在运行过程中所消耗掉的CPU时间，只有当应用程序的函数消耗CPU的时候，gprof才能够获取函数的性能数据。","page":3,"textblocks":[{"first":[39.009300231933594,353.810546875,4.452136993408203,11.5],"last":[169.36480712890625,366.822509765625,8.0074462890625,11.5],"length":73,"rects":[[39.009300231933594,353.810546875,380.3690872192383,11.5],[39.009300231933594,366.822509765625,138.36295318603516,11.5]],"start":698,"text":"gprof的特点是它只能分析应用程序在运行过程中所消耗掉的CPU时间，只有当应用程序的函数消耗CPU的时\n候，gprof才能够获取函数的性能数据。"}],"type":5,"uuid":"740ab6adb1d7e97b7ea8b3f640129975"},{"date":"2023-04-15 15:23:01","docid":0,"fillcolor":"fffeeb73","id":33,"originaltext":"其原因是 gprof 以固定的周期对程序运行时间进行采样测量，当程序挂起时，gprof就不会对程序进行采样测量","page":5,"textblocks":[{"first":[143.10601806640625,353.810302734375,8.0074462890625,11.5],"last":[140.8891143798828,366.822509765625,8.0074462890625,11.5],"length":56,"rects":[[143.10601806640625,353.810302734375,275.38360595703125,11.5],[39.009300231933594,366.822509765625,109.88726043701172,11.5]],"start":825,"text":"其原因是 gprof 以固定的周期对程序运行时间进行采样测量，当程序挂起时，g\nprof就不会对程序进行采样测量"}],"type":5,"uuid":"af5be45455e51d25d53d13838c14930c"},{"date":"2023-04-15 15:25:27","docid":0,"fillcolor":"fffeeb73","id":35,"originaltext":"4. 链接库中的函数","page":3,"textblocks":[{"first":[39.009300231933594,119.5927734375,4.452136993408203,11.5],"last":[95.95674896240234,119.5927734375,8.007438659667969,11.5],"length":10,"rects":[[39.009300231933594,119.5927734375,64.95488739013672,11.5]],"start":186,"text":"4. 链接库中的函数"}],"type":5,"uuid":"4130adcf42d8f03be5298f1ff4ff0aa1"},{"CL":[214.1999936163427,121.79999637007724,222.99999275803586,298.499991104007,242.99999275803586,298.499991104007],"date":"2023-04-15 16:16:17","docid":0,"id":36,"linecolor":"ffd01a11","linewidth":7,"originaltext":"视频讲解\n\nhttps://www.bilibili.com/video/BV1QX4y1R7gL?p=3&spm_id_from=pageDriver&vd_source=fa5559ccaf5a5223e4ec8de45d850a5f","page":0,"rect":[242.99999275803586,252.59999247193358,423.3999874114993,345.39998973608044],"type":9,"uuid":"c29d21ee9543903fc58bae2e2c56630f"}],"maxid":36,"notelinks":[],"title":"性能分析工具gprof介绍_linux_460833359-DevPress官方社区","unimportant":[]}